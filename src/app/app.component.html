<div class="app" [class.is-mobile]="mobileQuery.matches">
  <mat-toolbar color="primary">
    <button *ngIf="isLoggedIn$ | async" mat-icon-button (click)="snav.toggle()">
      <mat-icon>menu</mat-icon>
    </button>
    <h1 routerLink="home">Multe Manager</h1>
    <span class="example-spacer"></span>
    <mat-icon *ngIf="isLoggedIn$ | async" (click)="_logOut()">logout</mat-icon>
  </mat-toolbar>

  <mat-sidenav-container class="sidenav-container" [style.marginTop.px]="mobileQuery.matches ? 0 : 0">
    <mat-sidenav #snav [mode]="mobileQuery.matches ? 'over' : 'side'" [fixedInViewport]="mobileQuery.matches" fixedTopGap="56">
      <mat-accordion>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>Squadra</mat-panel-title>
          </mat-expansion-panel-header>
          <mat-list (click)="snav.toggle()" role="list">
            <mat-list-item routerLink="home" role="listitem">Home</mat-list-item>
            <mat-list-item routerLink="players" role="listitem">I tuoi giocatori</mat-list-item>
            <mat-list-item routerLink="new-multa" role="listitem">Nuova multa</mat-list-item>
            <mat-list-item routerLink="new-player" role="listitem">Nuovo giocatore</mat-list-item>
            <mat-list-item routerLink="multa-types" role="listitem">Tipologia multe</mat-list-item>
            <mat-list-item routerLink="team-settings" role="listitem">Impostazioni</mat-list-item>
          </mat-list>
        </mat-expansion-panel>

        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title>Profilo</mat-panel-title>
          </mat-expansion-panel-header>
          <mat-list (click)="snav.toggle()" role="list">
            <mat-list-item routerLink="profile" role="listitem">Impostazioni</mat-list-item>
            <mat-list-item routerLink="change-password" role="listitem">Cambia password</mat-list-item>
          </mat-list>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-sidenav>

    <mat-sidenav-content>
      <router-outlet></router-outlet>
    </mat-sidenav-content>

  </mat-sidenav-container>
</div>
